{"version":3,"file":"889-ec3cd5f7ec0f9c3fd325.js","mappings":"oKACIA,EAAI,kEACNC,EAAI,SAAWC,GACb,OAAOC,OAAOD,GAAGE,QAAQ,KAAM,SAASA,QAAQ,KAAM,QAAQA,QAAQ,KAAM,QAAQA,QAAQ,KAAM,SACpG,EACAC,EAAI,SAAWH,EAAGI,GAChB,OAAOH,OAAOD,GAAGE,QAAQ,SAAU,MAAQE,GAAK,MAClD,EACAC,EAAI,SAAWL,EAAGI,EAAGE,GACnB,OAAOL,OAAOD,GAAGO,QAAUH,GAAK,MAAQE,IAAM,IAAML,OAAOD,GAAGQ,QAAQ,QAAU,IAAMP,OAAOD,GAAGQ,QAAQ,IAC1G,EACAC,EAAI,CAAC,EACP,SAASC,EAAEV,GACT,IAAII,EAAI,GACR,IAAK,IAAIE,KAAKN,EAAG,CACf,IAAID,EAAIC,EAAEM,GACV,MAAQP,IAAMK,IAAMA,GAAK,KAAMA,GAAKK,EAAEH,KAAOG,EAAEH,GAAKA,EAAEJ,QAAQ,WAAY,OAAOS,eAAgBP,GAAK,KAAMA,GAAKL,EAAG,iBAAmBA,IAAK,IAAOD,EAAEc,KAAKN,KAAOF,GAAK,MAAOA,GAAK,IACpL,CACA,OAAOA,QAAK,CACd,CACA,SAASS,EAAEb,EAAGI,GACZ,IAAK,IAAIE,KAAKF,EAAGJ,EAAEM,GAAKF,EAAEE,GAC1B,OAAON,CACT,CACA,SAASc,EAAEd,EAAGI,GACZ,OAAOW,MAAMC,QAAQZ,GAAKA,EAAEa,OAAOH,EAAGd,GAAK,MAAQI,IAAK,IAAOA,GAAKJ,EAAEkB,KAAKd,GAAIJ,CACjF,CACA,IAAImB,EAAI,CACJC,SAAS,GAEXC,EAAI,GACJC,EAAI,2EACJC,EAAI,WAAc,EACpBC,EAAEC,OAASD,EAIX,SAASA,EAAE1B,EAAGW,EAAGU,EAAGO,EAAGC,EAAGC,GACxB,GAAI,MAAQ9B,GAAK,kBAAoBA,EAAG,MAAO,GAC/CiB,MAAMC,QAAQlB,KAAOA,GAAI,QAAE,KAAG,KAAMA,IACpC,IAAI+B,EAAI/B,EAAEgC,KACRC,EAAIjC,EAAEkC,MACNC,GAAI,EACNxB,EAAIA,GAAK,CAAC,EACV,IAAIyB,EACFC,GAAKhB,EAAIA,GAAK,CAAC,GAAGiB,OAClBC,EAAIF,GAAK,iBAAmBA,EAAIA,EAAI,KACtC,GAAI,iBAAmBrC,IAAM+B,EAAG,OAAO9B,EAAED,GACzC,GAAI,mBAAqB+B,EAAG,CAC1B,GAAII,GAAI,GAAKd,EAAEC,UAAYM,IAAK,IAAOP,EAAEmB,oBAAqB,CAC5D,GAAIT,IAAM,KAAG,CACX,IAAIU,EAAI,GACNC,EAAI,GACN1B,EAAE0B,EAAG1C,EAAEkC,MAAMS,UACb,IAAK,IAAIC,EAAI,EAAGA,EAAIF,EAAEjC,OAAQmC,IAAKH,IAAMG,EAAI,GAAKP,EAAI,KAAO,IAAMX,EAAEgB,EAAEE,GAAIjC,EAAGU,GAAG,IAAOA,EAAEwB,iBAAkBhB,EAAGC,GAC/G,OAAOW,CACT,CACA,IAAIK,EACFC,EAAI/C,EAAEgD,IAAM,CACVC,IAAKjD,EACLkD,QAASvC,EACTuB,MAAOlC,EAAEkC,MACTiB,SAAU1B,EACV2B,YAAa3B,EACb4B,IAAK,IAET,GAAI,KAAEC,KAAO,KAAEA,IAAItD,GAAI+B,EAAEwB,WAAa,mBAAqBxB,EAAEwB,UAAU5B,OAAQ,CAC7E,IAAI6B,EAAIzB,EAAE0B,YACRC,EAAIF,GAAK7C,EAAE6C,EAAER,KACbW,EAAI,MAAQH,EAAIE,EAAIA,EAAExB,MAAM0B,MAAQJ,EAAEK,GAAKlD,GAC5CoC,EAAI/C,EAAEgD,IAAM,IAAIjB,EAAEE,EAAG0B,IAAIV,IAAMjD,EAAG+C,EAAEe,OAASf,EAAEgB,KAAM,EAAIhB,EAAEb,MAAQD,EAAG,MAAQc,EAAEiB,QAAUjB,EAAEiB,MAAQ,CAAC,GAAI,MAAQjB,EAAEkB,YAAc,MAAQlB,EAAEmB,MAAQnB,EAAEkB,WAAalB,EAAEmB,IAAMnB,EAAEiB,OAAQjB,EAAEG,QAAUS,EAAG5B,EAAEoC,yBAA2BpB,EAAEiB,MAAQjD,EAAEA,EAAE,CAAC,EAAGgC,EAAEiB,OAAQjC,EAAEoC,yBAAyBpB,EAAEb,MAAOa,EAAEiB,QAAUjB,EAAEqB,oBAAsBrB,EAAEqB,qBAAsBrB,EAAEiB,MAAQjB,EAAEkB,aAAelB,EAAEiB,MAAQjB,EAAEkB,WAAalB,EAAEmB,MAAQnB,EAAEiB,MAAQjB,EAAEmB,IAAMnB,EAAEiB,MAAOlB,EAAIC,EAAEpB,OAAOoB,EAAEb,MAAOa,EAAEiB,MAAOjB,EAAEG,QACzd,KAAO,CACL,IAAImB,EAAItC,EAAE0B,YACRa,EAAID,GAAK1D,EAAE0D,EAAErB,KACfF,EAAIf,EAAEwC,KAAKvE,EAAEgD,IAAKf,EAAG,MAAQoC,EAAIC,EAAIA,EAAEpC,MAAM0B,MAAQS,EAAER,GAAKlD,EAC9D,CACA,OAAOoC,EAAEyB,kBAAoB7D,EAAII,EAAEA,EAAE,CAAC,EAAGJ,GAAIoC,EAAEyB,oBAAqB9C,EAAEoB,EAAGnC,EAAGU,GAAG,IAAOA,EAAEwB,iBAAkBhB,EAAGC,EAC/G,CACAC,GAAKK,EAAIL,GAAG0C,aAAerC,IAAMsC,UAAYtC,EAAEuC,MAAQ,SAAUzE,GAC/D,IAAII,GAAKoE,SAASnB,UAAUqB,SAASL,KAAKrE,GAAG2E,MAAM,4BAA8B,IAAI,GACrF,IAAKvE,EAAG,CACN,IAAK,IAAIE,GAAK,EAAGR,EAAIuB,EAAEd,OAAQT,KAAM,GAAIuB,EAAEvB,KAAOE,EAAG,CACnDM,EAAIR,EACJ,KACF,CACAQ,EAAI,IAAMA,EAAIe,EAAEH,KAAKlB,GAAK,GAAII,EAAI,mBAAqBE,CACzD,CACA,OAAOF,CACT,CAVuD,CAUrD8B,EACJ,CACA,IAAI0C,EACFC,EAAI,GACN,GAAI9C,EAAG,CACL,IAAI+C,EAAIC,OAAOC,KAAKjD,GACpBZ,IAAK,IAAOA,EAAE8D,gBAAkBH,EAAEI,OAClC,IAAK,IAAIC,EAAI,EAAGA,EAAIL,EAAEvE,OAAQ4E,IAAK,CACjC,IAAIC,EAAIN,EAAEK,GACRE,EAAItD,EAAEqD,GACR,GAAI,aAAeA,IAAMA,EAAET,MAAM,sBAAwBxD,GAAKA,EAAEmE,eAAiB,QAAUF,GAAK,QAAUA,GAAI,CAC5G,GAAI,cAAgBA,EAAG,CACrB,GAAIrD,EAAEwD,MAAO,SACbH,EAAI,OACN,MAAOzD,GAAKyD,EAAET,MAAM,eAAiBS,EAAIA,EAAEzE,cAAcT,QAAQ,WAAY,WAC7E,UAAYkF,GAAKC,GAAK,iBAAmBA,IAAMA,EAAI3E,EAAE2E,IACrD,IAAIG,EAAIrE,EAAEsE,eAAiBtE,EAAEsE,cAAcL,EAAGC,EAAG5E,EAAGU,EAAGc,GACvD,GAAIuD,GAAK,KAAOA,EAAGX,GAAKW,OAAO,GAAI,4BAA8BJ,EAAGR,EAAIS,GAAKA,EAAEK,YAAY,IAAKL,GAAK,IAAMA,GAAK,KAAOA,IAAM,mBAAqBA,EAAG,CACnJ,MAAM,IAAOA,GAAK,KAAOA,IAAMA,EAAID,EAAGjE,GAAKA,EAAEwE,MAAO,CAClDd,GAAK,IAAMO,EACX,QACF,CACA,GAAI,UAAYA,EAAG,CACjB,GAAI,WAAavD,EAAG,CAClBD,EAAIyD,EACJ,QACF,CACA,WAAaxD,GAAKD,GAAKyD,IAAMR,GAAK,YACpC,CACAA,GAAK,IAAMO,EAAI,KAAOrF,EAAEsF,GAAK,GAC/B,CACF,CACF,CACF,CACA,GAAIlD,EAAG,CACL,IAAIyD,EAAIf,EAAE3E,QAAQ,SAAU,KAC5B0F,IAAMf,IAAMe,EAAEpF,QAAQ,MAAQ2B,IAAM0C,EAAErE,QAAQ,QAAUqE,GAAK,MAAQA,EAAIe,CAC3E,CACA,GAAIf,EAAI,IAAMhD,EAAIgD,EAAI,IAAK5E,OAAO4B,GAAG8C,MAAM,oBAAqB,MAAM,IAAIkB,MAAMhE,EAAI,oCAAsCgD,GAC1H,IAAIiB,EAAI7F,OAAO4B,GAAG8C,MAAMrD,GACxBwE,IAAMjB,EAAIA,EAAE3E,QAAQ,KAAM,QAC1B,IAAI6F,EACFC,EAAI,GACN,GAAIpB,EAAGzC,GAAK9B,EAAEuE,KAAOA,EAAI,KAAOvC,EAAIlC,EAAEyE,EAAGvC,IAAKwC,GAAKD,OAAO,GAAI7C,GAAKjB,EAAEiF,EAAI,GAAIhE,EAAEU,UAAUlC,OAAQ,CAC/F,IAAK,IAAI0F,EAAI9D,IAAM0C,EAAErE,QAAQ,MAAO0F,GAAI,EAAIC,EAAI,EAAGA,EAAIJ,EAAExF,OAAQ4F,IAAK,CACpE,IAAIC,EAAIL,EAAEI,GACV,GAAI,MAAQC,IAAK,IAAOA,EAAG,CACzB,IAAIC,EAAI7E,EAAE4E,EAAG3F,EAAGU,GAAG,EAAI,QAAUU,GAAK,kBAAoBA,GAAKF,EAAGC,GAClE,GAAIO,IAAM8D,GAAK5F,EAAEgG,KAAOJ,GAAI,GAAKI,EAAG,GAAIlE,EAAG,CACzC,IAAImE,EAAID,EAAE9F,OAAS,GAAK,KAAO8F,EAAE,GACjCH,GAAKI,EAAIN,EAAEA,EAAEzF,OAAS,IAAM8F,EAAIL,EAAE9E,KAAKmF,GAAIH,EAAII,CACjD,MAAON,EAAE9E,KAAKmF,EAChB,CACF,CACA,GAAIlE,GAAK8D,EAAG,IAAK,IAAIM,EAAIP,EAAEzF,OAAQgG,KAAMP,EAAEO,GAAK,KAAOlE,EAAIlC,EAAE6F,EAAEO,GAAIlE,EACrE,CACA,GAAI2D,EAAEzF,OAAQsE,GAAKmB,EAAEQ,KAAK,SAAS,GAAIrF,GAAKA,EAAEwE,IAAK,OAAOd,EAAE4B,UAAU,EAAG5B,EAAEtE,OAAS,GAAK,MACzF,OAAOuF,IAAM3D,IAAM0C,EAAErE,QAAQ,QAAUqE,GAAK,MAAOA,GAAK,KAAOhD,EAAI,KAAMgD,CAC3E,CACArD,EAAEkF,cAjHM,SAAW1G,EAAGI,GACpB,OAAOoB,EAAExB,EAAGI,EAAGe,EACjB,C,+HCpCIQ,E,gEAIEN,G,SAAa,IAAIsF,SAEjB/E,EACHgF,UAAkBC,YAClBD,UAAkBE,eAClBF,UAAkBG,iBCTrBzF,EAAA,oHA6BA,SAAqBW,EACnB7B,EACAJ,GAEAI,EAAU4G,MAAMC,QAAA,IAEZjH,IACFA,EAAiBgH,MAAMC,QAAA,IAE3B,CAEA,SAAqBzF,EACnBpB,EACAJ,EACAD,EACAD,EACAQ,EACAH,GAEA,IAAeE,EAAGD,EAAQ8G,cACxB,qBAAArG,EAEuBT,EAAQ8G,cAC/B,4BAAAxG,EAEeX,EAAWoH,IAAInH,GAEhC,SAASS,EAAcL,GAAA,IAAAgH,EAAA,KAErBC,KAAKC,oBAAA,OAA4B7G,GAEjC,IAAYT,EAAGI,EAAEmH,cACXxH,EAAM,IAAIyH,MAChBzH,EAAI0H,IAAMzH,EAAO0H,WAEb3H,EAAI4H,OAEN5H,EACG4H,SACAC,MAAK,WAEJ3F,EAAamF,EAAMvG,GACb,MAANP,GAAAA,EAAS,CACPuH,UAAWnH,GACZ,IAEFoH,OAAM,SAAA1H,GAEL6B,EAAamF,EAAMvG,GAAA,MACnBV,GAAAA,EAAUC,EACZ,KAGF6B,EAAaoF,KAAMxG,GACb,MAANP,GAAAA,EAAS,CACPuH,UAAWnH,IAGjB,CA8BA,OA5BAL,EAAU0H,iBAAA,OAAyBtH,GAExB,MAAXX,GAAAA,EAAc,CACZ+H,UAAWnH,IAEbK,MAAMiH,KAAK3H,EAAU4H,cAAcxF,UAAUyF,SAAQ,SAAA9H,GACnD,IAASJ,EAAGI,EAAM+H,aAAa,YACnBpI,EAAGK,EAAM+H,aAAa,eAC9BnI,IACFI,EAAMgI,gBAAgB,YACtBhI,EAAMiI,aAAA,MAAoBrI,IAExBD,IACFK,EAAMgI,gBAAgB,eACtBhI,EAAMiI,aAAA,SAAuBtI,GAC9B,IAGHA,EAAWuI,IAAItI,GAIXK,EAAUkI,UACZ9H,EAAc4D,KAAKhE,EAAW,CAC5BkH,cAAelH,IAIZ,WACDA,GACFA,EAAUiH,oBAAA,OAA4B7G,EACvC,CAEL,CAEgB,SAAAiB,EACd1B,EACAD,EACAD,EACAQ,EACAH,EACAE,EACAQ,GAEA,KAAKT,EAAAA,EAAAA,KAA4B,CAC/B,IAAIA,EAeFM,EAAAD,EAdFwB,GDrHFX,ECqHwC,WACpClB,EAAUoB,EACRxB,EACAD,EACAD,EACAK,EACAE,EACAQ,EAEJ,EDzHI,yBAAA2H,QAOD7G,IACHA,EAAuB,IAAwB8G,sBAC7C,SAAArI,GACEA,EAAQ8H,SAAQ,SAAA9H,GACY,IAAAJ,EAAtBI,EAAMsI,iBAAA,OAAA1I,EAERqB,EAAWsH,IAAIvI,EAAMwI,UAArB5I,IAEAqB,EAAWwH,OAAOzI,EAAMwI,QACzB,GAEL,GACA,CACEE,WACqB,QAxBM,MAAVlH,OAAA,EAAAA,EAAYmH,gBAwBC,MAAAnH,GAAAA,EAAYoH,SA7BhB,SADA,qBAqCR5I,GAKtB,OAHAiB,EAAW4H,IAAI7I,EAASkB,GACxBK,EAAqBuH,QAAQ9I,GAEb,WACVuB,GAAwBvB,IAC1BiB,EAAWwH,OAAOzI,GAClBuB,EAAqBwH,UAAU/I,GAEnC,CACF,GAtCS,WAEL,OADAkB,IACgB,WAClB,ICsHMI,EAAYO,EAAGjC,GASrB,MANM,cAAeoJ,SAASC,gBAAgBrC,QAC5ChH,EAAQsJ,QAAQC,UAA+B,OAAtB7I,EAAGJ,EAAMiJ,WAAa7I,EAAA,QAC/CV,EAAQsJ,QAAQE,eAAA,IAAiB,OAAA/I,EAAGH,EAAMkJ,gBAAA/I,EAA2B,YAnI3EgJ,GAAAC,EAAAA,EAAAA,GAAAC,IAAAA,MAAA,SAAAC,EAA6BxJ,GAAA,OAAAuJ,IAAAA,MAAA,SAAAE,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACQ,GADRF,EAAAG,GACrB,sBAA6BxB,OAAAqB,EAAAG,GAAC,CAADH,EAAAE,KAAA,eAAAF,EAAAE,KAAA,EACrB,oCAE0E,OAGtFvB,OAAeyB,kBAAkB7J,GACrC,wBAAAyJ,EAAAK,OAAA,GAAAN,EAAA,KA4HM,SAAAO,GAAA,OAAAV,EAAAW,MAAA,KAAAC,UAAA,GAAcrK,IAGT,WACDI,GACFA,IAGFsB,GACF,CACD,CA9IH,IAAA+H,EDDEnI,ECiJA,OAAAE,EACExB,EACAD,EACAD,EACAK,EACAE,EACAQ,EAEJ,UAEmCC,EAAAV,GAAC,IAClCuB,EAUiBvB,EAXiBkK,MAAAC,EAWjBnK,EAVZoK,QACLnJ,OAAA,IAAAkJ,EAAgB,OAAAA,EAChB3I,EAQiBxB,EATDqK,UAEhBxI,EAOiB7B,EARRsK,SAETlJ,EAMiBpB,EAPTuK,aAAAC,EAOSxK,EANLyK,SACZnJ,OAAA,IAAAkJ,EAAW,CAAC,EAADA,EACX9J,EAIiBV,EALJoJ,eAEbrI,EAGiBf,EAJH0K,gBAAAC,EAIG3K,EAHFmJ,UACfxH,OAAA,IAAAgJ,EAAY,QAAAA,EACT5I,GAEHnC,EAAAA,EAAAA,GAAAI,EAAAkB,GACEuB,EAMElB,EAPEqJ,MAEJxI,EAKEb,EANGsJ,OAELnF,EAIEnE,EALIuJ,OAEN1H,EAGE7B,EAJIwJ,OAENrG,EAEEnD,EAHIyJ,YAEW3H,EACf9B,EADFmJ,gBAUF,OAPApJ,GAAA3B,EAAAA,EAAAA,GAAA,CACEwJ,UAAAxH,EACAyH,eAAA1I,EACAgK,gBAAA3J,GACGO,IAAAjB,EAAAA,EAAAA,IAIHC,EAAAA,QAAAA,cAACZ,EAAAA,EAAA,CAAcoL,OAAQpF,EAAQkF,MAAOnI,EAAOoI,OAAQzI,GACnD9B,EAAAA,QAAAA,cAACJ,EAAAA,GAAAP,EAAAA,EAAAA,GAAA,IACKI,EAAAA,EAAAA,GACF2E,EACA7C,EACA6D,EACAjD,EACAL,EACAiB,EACA1B,EACAjB,KAIJJ,EAAAA,QAAAA,cAACL,EAAAA,GAAAN,EAAAA,EAAAA,GAAA,GACMoC,EAGH,CACF6I,MAAOnI,EACPoI,OAAQzI,EACR6I,UAAW7J,IACPX,EAAAA,EAAAA,GAAae,EAAWK,EAAUuB,EAAQnC,EAASK,MAI/D,C","sources":["webpack://ktech-website/./node_modules/preact-render-to-string/dist/index.module.js","webpack://ktech-website/../src/components/intersection-observer.ts","webpack://ktech-website/../src/components/lazy-hydrate.tsx"],"sourcesContent":["import { options as e, Fragment as t, createElement as r } from \"preact\";\nvar n = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i,\n  o = function o(e) {\n    return String(e).replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/\"/g, \"&quot;\");\n  },\n  a = function a(e, t) {\n    return String(e).replace(/(\\n+)/g, \"$1\" + (t || \"\\t\"));\n  },\n  i = function i(e, t, r) {\n    return String(e).length > (t || 40) || !r && -1 !== String(e).indexOf(\"\\n\") || -1 !== String(e).indexOf(\"<\");\n  },\n  l = {};\nfunction s(e) {\n  var t = \"\";\n  for (var r in e) {\n    var o = e[r];\n    null != o && (t && (t += \" \"), t += l[r] || (l[r] = r.replace(/([A-Z])/g, \"-$1\").toLowerCase()), t += \": \", t += o, \"number\" == typeof o && !1 === n.test(r) && (t += \"px\"), t += \";\");\n  }\n  return t || void 0;\n}\nfunction c(e, t) {\n  for (var r in t) e[r] = t[r];\n  return e;\n}\nfunction f(e, t) {\n  return Array.isArray(t) ? t.reduce(f, e) : null != t && !1 !== t && e.push(t), e;\n}\nvar p = {\n    shallow: !0\n  },\n  u = [],\n  g = /^(area|base|br|col|embed|hr|img|input|link|meta|param|source|track|wbr)$/,\n  _ = function _() {};\nh.render = h;\nvar v = function v(e, t) {\n  return h(e, t, p);\n};\nfunction h(n, l, p, v, d, m) {\n  if (null == n || \"boolean\" == typeof n) return \"\";\n  Array.isArray(n) && (n = r(t, null, n));\n  var x = n.type,\n    y = n.props,\n    b = !1;\n  l = l || {};\n  var S,\n    w = (p = p || {}).pretty,\n    k = w && \"string\" == typeof w ? w : \"\\t\";\n  if (\"object\" != typeof n && !x) return o(n);\n  if (\"function\" == typeof x) {\n    if (b = !0, !p.shallow || !v && !1 !== p.renderRootComponent) {\n      if (x === t) {\n        var O = \"\",\n          C = [];\n        f(C, n.props.children);\n        for (var A = 0; A < C.length; A++) O += (A > 0 && w ? \"\\n\" : \"\") + h(C[A], l, p, !1 !== p.shallowHighOrder, d, m);\n        return O;\n      }\n      var H,\n        j = n.__c = {\n          __v: n,\n          context: l,\n          props: n.props,\n          setState: _,\n          forceUpdate: _,\n          __h: []\n        };\n      if (e.__r && e.__r(n), x.prototype && \"function\" == typeof x.prototype.render) {\n        var $ = x.contextType,\n          F = $ && l[$.__c],\n          L = null != $ ? F ? F.props.value : $.__ : l;\n        (j = n.__c = new x(y, L)).__v = n, j._dirty = j.__d = !0, j.props = y, null == j.state && (j.state = {}), null == j._nextState && null == j.__s && (j._nextState = j.__s = j.state), j.context = L, x.getDerivedStateFromProps ? j.state = c(c({}, j.state), x.getDerivedStateFromProps(j.props, j.state)) : j.componentWillMount && j.componentWillMount(), j.state = j._nextState !== j.state ? j._nextState : j.__s !== j.state ? j.__s : j.state, H = j.render(j.props, j.state, j.context);\n      } else {\n        var M = x.contextType,\n          T = M && l[M.__c];\n        H = x.call(n.__c, y, null != M ? T ? T.props.value : M.__ : l);\n      }\n      return j.getChildContext && (l = c(c({}, l), j.getChildContext())), h(H, l, p, !1 !== p.shallowHighOrder, d, m);\n    }\n    x = (S = x).displayName || S !== Function && S.name || function (e) {\n      var t = (Function.prototype.toString.call(e).match(/^\\s*function\\s+([^( ]+)/) || \"\")[1];\n      if (!t) {\n        for (var r = -1, n = u.length; n--;) if (u[n] === e) {\n          r = n;\n          break;\n        }\n        r < 0 && (r = u.push(e) - 1), t = \"UnnamedComponent\" + r;\n      }\n      return t;\n    }(S);\n  }\n  var D,\n    N = \"\";\n  if (y) {\n    var P = Object.keys(y);\n    p && !0 === p.sortAttributes && P.sort();\n    for (var R = 0; R < P.length; R++) {\n      var U = P[R],\n        W = y[U];\n      if (\"children\" !== U && !U.match(/[\\s\\n\\\\/='\"\\0<>]/) && (p && p.allAttributes || \"key\" !== U && \"ref\" !== U)) {\n        if (\"className\" === U) {\n          if (y.class) continue;\n          U = \"class\";\n        } else d && U.match(/^xlink:?./) && (U = U.toLowerCase().replace(/^xlink:?/, \"xlink:\"));\n        \"style\" === U && W && \"object\" == typeof W && (W = s(W));\n        var q = p.attributeHook && p.attributeHook(U, W, l, p, b);\n        if (q || \"\" === q) N += q;else if (\"dangerouslySetInnerHTML\" === U) D = W && W.__html;else if ((W || 0 === W || \"\" === W) && \"function\" != typeof W) {\n          if (!(!0 !== W && \"\" !== W || (W = U, p && p.xml))) {\n            N += \" \" + U;\n            continue;\n          }\n          if (\"value\" === U) {\n            if (\"select\" === x) {\n              m = W;\n              continue;\n            }\n            \"option\" === x && m == W && (N += \" selected\");\n          }\n          N += \" \" + U + '=\"' + o(W) + '\"';\n        }\n      }\n    }\n  }\n  if (w) {\n    var z = N.replace(/^\\n\\s*/, \" \");\n    z === N || ~z.indexOf(\"\\n\") ? w && ~N.indexOf(\"\\n\") && (N += \"\\n\") : N = z;\n  }\n  if (N = \"<\" + x + N + \">\", String(x).match(/[\\s\\n\\\\/='\"\\0<>]/)) throw new Error(x + \" is not a valid HTML tag name in \" + N);\n  var E = String(x).match(g);\n  E && (N = N.replace(/>$/, \" />\"));\n  var I,\n    Z = [];\n  if (D) w && i(D) && (D = \"\\n\" + k + a(D, k)), N += D;else if (y && f(I = [], y.children).length) {\n    for (var B = w && ~N.indexOf(\"\\n\"), G = !1, J = 0; J < I.length; J++) {\n      var K = I[J];\n      if (null != K && !1 !== K) {\n        var Q = h(K, l, p, !0, \"svg\" === x || \"foreignObject\" !== x && d, m);\n        if (w && !B && i(Q) && (B = !0), Q) if (w) {\n          var V = Q.length > 0 && \"<\" != Q[0];\n          G && V ? Z[Z.length - 1] += Q : Z.push(Q), G = V;\n        } else Z.push(Q);\n      }\n    }\n    if (w && B) for (var X = Z.length; X--;) Z[X] = \"\\n\" + k + a(Z[X], k);\n  }\n  if (Z.length) N += Z.join(\"\");else if (p && p.xml) return N.substring(0, N.length - 1) + \" />\";\n  return E || (w && ~N.indexOf(\"\\n\") && (N += \"\\n\"), N += \"</\" + x + \">\"), N;\n}\nh.shallowRender = v;\nexport default h;\nexport { h as render, h as renderToString, v as shallowRender };","let intersectionObserver: IntersectionObserver\n\nexport type Unobserver = () => void\n\nconst ioEntryMap = new WeakMap<HTMLElement, () => void>()\n/* eslint-disable @typescript-eslint/no-explicit-any  */\nconst connection =\n  (navigator as any).connection ||\n  (navigator as any).mozConnection ||\n  (navigator as any).webkitConnection\n/* eslint-enable @typescript-eslint/no-explicit-any */\n\n// These match the thresholds used in Chrome's native lazy loading\n// @see https://web.dev/browser-level-image-lazy-loading/#distance-from-viewport-thresholds\nconst FAST_CONNECTION_THRESHOLD = `1250px`\nconst SLOW_CONNECTION_THRESHOLD = `2500px`\n\nexport function createIntersectionObserver(\n  callback: () => void\n): (element: HTMLElement) => Unobserver {\n  const connectionType = connection?.effectiveType\n\n  // if we don't support intersectionObserver we don't lazy load (Sorry IE 11).\n  if (!(`IntersectionObserver` in window)) {\n    return function observe(): Unobserver {\n      callback()\n      return function unobserve(): void {}\n    }\n  }\n\n  if (!intersectionObserver) {\n    intersectionObserver = new IntersectionObserver(\n      entries => {\n        entries.forEach(entry => {\n          if (entry.isIntersecting) {\n            // Get the matching entry's callback and call it\n            ioEntryMap.get(entry.target as HTMLElement)?.()\n            // We only need to call it once\n            ioEntryMap.delete(entry.target as HTMLElement)\n          }\n        })\n      },\n      {\n        rootMargin:\n          connectionType === `4g` && !connection?.saveData\n            ? FAST_CONNECTION_THRESHOLD\n            : SLOW_CONNECTION_THRESHOLD,\n      }\n    )\n  }\n\n  return function observe(element: HTMLElement): Unobserver {\n    // Store a reference to the callback mapped to the element being watched\n    ioEntryMap.set(element, callback)\n    intersectionObserver.observe(element)\n\n    return function unobserve(): void {\n      if (intersectionObserver && element) {\n        ioEntryMap.delete(element)\n        intersectionObserver.unobserve(element)\n      }\n    }\n  }\n}\n","import React from \"react\"\nimport { renderToStaticMarkup } from \"react-dom/server\"\nimport { LayoutWrapper } from \"./layout-wrapper\"\nimport { Placeholder } from \"./placeholder\"\nimport { MainImage } from \"./main-image\"\nimport {\n  hasNativeLazyLoadSupport,\n  getMainProps,\n  getPlaceholderProps,\n} from \"./hooks\"\nimport { createIntersectionObserver } from \"./intersection-observer\"\nimport type { MainImageProps } from \"./main-image\"\nimport type { GatsbyImageProps } from \"./gatsby-image.browser\"\n\ntype LazyHydrateProps = Omit<GatsbyImageProps, \"as\" | \"style\" | \"className\"> & {\n  isLoading: boolean\n  isLoaded: boolean\n}\n\nasync function applyPolyfill(element: HTMLImageElement): Promise<void> {\n  if (!(`objectFitPolyfill` in window)) {\n    await import(\n      // @ts-ignore typescript can't find the module for some reason ¯\\_(ツ)_/¯\n      /* webpackChunkName: \"gatsby-plugin-image-objectfit-polyfill\" */ `objectFitPolyfill`\n    )\n  }\n  ;(window as any).objectFitPolyfill(element)\n}\n\nfunction toggleLoaded(\n  mainImage: HTMLElement,\n  placeholderImage: HTMLElement\n): void {\n  mainImage.style.opacity = `1`\n\n  if (placeholderImage) {\n    placeholderImage.style.opacity = `0`\n  }\n}\n\nfunction startLoading(\n  element: HTMLElement,\n  cacheKey: string,\n  imageCache: Set<string>,\n  onStartLoad: GatsbyImageProps[\"onStartLoad\"],\n  onLoad: GatsbyImageProps[\"onLoad\"],\n  onError: GatsbyImageProps[\"onError\"]\n): () => void {\n  const mainImage = element.querySelector(\n    `[data-main-image]`\n  ) as HTMLImageElement\n  const placeholderImage = element.querySelector<HTMLElement>(\n    `[data-placeholder-image]`\n  )\n  const isCached = imageCache.has(cacheKey)\n\n  function onImageLoaded(e): void {\n    // eslint-disable-next-line @babel/no-invalid-this\n    this.removeEventListener(`load`, onImageLoaded)\n\n    const target = e.currentTarget\n    const img = new Image()\n    img.src = target.currentSrc\n\n    if (img.decode) {\n      // Decode the image through javascript to support our transition\n      img\n        .decode()\n        .then(() => {\n          // eslint-disable-next-line @babel/no-invalid-this\n          toggleLoaded(this, placeholderImage)\n          onLoad?.({\n            wasCached: isCached,\n          })\n        })\n        .catch(e => {\n          // eslint-disable-next-line @babel/no-invalid-this\n          toggleLoaded(this, placeholderImage)\n          onError?.(e)\n        })\n    } else {\n      // eslint-disable-next-line @babel/no-invalid-this\n      toggleLoaded(this, placeholderImage)\n      onLoad?.({\n        wasCached: isCached,\n      })\n    }\n  }\n\n  mainImage.addEventListener(`load`, onImageLoaded)\n\n  onStartLoad?.({\n    wasCached: isCached,\n  })\n  Array.from(mainImage.parentElement.children).forEach(child => {\n    const src = child.getAttribute(`data-src`)\n    const srcSet = child.getAttribute(`data-srcset`)\n    if (src) {\n      child.removeAttribute(`data-src`)\n      child.setAttribute(`src`, src)\n    }\n    if (srcSet) {\n      child.removeAttribute(`data-srcset`)\n      child.setAttribute(`srcset`, srcSet)\n    }\n  })\n\n  imageCache.add(cacheKey)\n\n  // Load times not always fires - mostly when it's a 304\n  // We check if the image is already completed and if so we trigger onload.\n  if (mainImage.complete) {\n    onImageLoaded.call(mainImage, {\n      currentTarget: mainImage,\n    })\n  }\n\n  return (): void => {\n    if (mainImage) {\n      mainImage.removeEventListener(`load`, onImageLoaded)\n    }\n  }\n}\n\nexport function swapPlaceholderImage(\n  element: HTMLElement,\n  cacheKey: string,\n  imageCache: Set<string>,\n  style: React.CSSProperties,\n  onStartLoad: GatsbyImageProps[\"onStartLoad\"],\n  onLoad: GatsbyImageProps[\"onLoad\"],\n  onError: GatsbyImageProps[\"onError\"]\n): () => void {\n  if (!hasNativeLazyLoadSupport()) {\n    let cleanup\n    const io = createIntersectionObserver(() => {\n      cleanup = startLoading(\n        element,\n        cacheKey,\n        imageCache,\n        onStartLoad,\n        onLoad,\n        onError\n      )\n    })\n    const unobserve = io(element)\n\n    // Polyfill \"object-fit\" if unsupported (mostly IE)\n    if (!(`objectFit` in document.documentElement.style)) {\n      element.dataset.objectFit = style.objectFit ?? `cover`\n      element.dataset.objectPosition = `${style.objectPosition ?? `50% 50%`}`\n      applyPolyfill(element as HTMLImageElement)\n    }\n\n    return (): void => {\n      if (cleanup) {\n        cleanup()\n      }\n\n      unobserve()\n    }\n  }\n\n  return startLoading(\n    element,\n    cacheKey,\n    imageCache,\n    onStartLoad,\n    onLoad,\n    onError\n  )\n}\n\nexport function renderImageToString({\n  image,\n  loading = `lazy`,\n  isLoading,\n  isLoaded,\n  imgClassName,\n  imgStyle = {},\n  objectPosition,\n  backgroundColor,\n  objectFit = `cover`,\n  ...props\n}: LazyHydrateProps): string {\n  const {\n    width,\n    height,\n    layout,\n    images,\n    placeholder,\n    backgroundColor: wrapperBackgroundColor,\n  } = image\n\n  imgStyle = {\n    objectFit,\n    objectPosition,\n    backgroundColor,\n    ...imgStyle,\n  }\n\n  return renderToStaticMarkup(\n    <LayoutWrapper layout={layout} width={width} height={height}>\n      <Placeholder\n        {...getPlaceholderProps(\n          placeholder,\n          isLoaded,\n          layout,\n          width,\n          height,\n          wrapperBackgroundColor,\n          objectFit,\n          objectPosition\n        )}\n      />\n\n      <MainImage\n        {...(props as Omit<\n          MainImageProps,\n          \"images\" | \"fallback\" | \"onLoad\" | \"onError\"\n        >)}\n        width={width}\n        height={height}\n        className={imgClassName}\n        {...getMainProps(isLoading, isLoaded, images, loading, imgStyle)}\n      />\n    </LayoutWrapper>\n  )\n}\n"],"names":["n","o","e","String","replace","a","t","i","r","length","indexOf","l","s","toLowerCase","test","c","f","Array","isArray","reduce","push","p","shallow","u","g","_","h","render","v","d","m","x","type","y","props","b","S","w","pretty","k","renderRootComponent","O","C","children","A","shallowHighOrder","H","j","__c","__v","context","setState","forceUpdate","__h","__r","prototype","$","contextType","F","L","value","__","_dirty","__d","state","_nextState","__s","getDerivedStateFromProps","componentWillMount","M","T","call","getChildContext","displayName","Function","name","toString","match","D","N","P","Object","keys","sortAttributes","sort","R","U","W","allAttributes","class","q","attributeHook","__html","xml","z","Error","E","I","Z","B","G","J","K","Q","V","X","join","substring","shallowRender","WeakMap","navigator","connection","mozConnection","webkitConnection","style","opacity","querySelector","has","_this","this","removeEventListener","currentTarget","Image","src","currentSrc","decode","then","wasCached","catch","addEventListener","from","parentElement","forEach","getAttribute","removeAttribute","setAttribute","add","complete","window","IntersectionObserver","isIntersecting","get","target","delete","rootMargin","effectiveType","saveData","set","observe","unobserve","document","documentElement","dataset","objectFit","objectPosition","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","_context","prev","next","t0","objectFitPolyfill","stop","_x","apply","arguments","image","_t$loading","loading","isLoading","isLoaded","imgClassName","_t$imgStyle","imgStyle","backgroundColor","_t$objectFit","width","height","layout","images","placeholder","className"],"sourceRoot":""}