{"version":3,"file":"150-9d96467c71456ea7b4c1.js","mappings":"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","sources":["webpack://ktech-website/./node_modules/preact-render-to-string/dist/index.module.js","webpack://ktech-website/../src/components/intersection-observer.ts","webpack://ktech-website/../src/components/lazy-hydrate.tsx"],"sourcesContent":["import { options as e, h as t, Fragment as r } from \"preact\";\nvar o = /[\\s\\n\\\\/='\"\\0<>]/,\n  n = /^xlink:?./,\n  a = /[\"&<]/;\nfunction i(e) {\n  if (0 === e.length || !1 === a.test(e)) return e;\n  for (var t = 0, r = 0, o = \"\", n = \"\"; r < e.length; r++) {\n    switch (e.charCodeAt(r)) {\n      case 34:\n        n = \"&quot;\";\n        break;\n      case 38:\n        n = \"&amp;\";\n        break;\n      case 60:\n        n = \"&lt;\";\n        break;\n      default:\n        continue;\n    }\n    r !== t && (o += e.slice(t, r)), o += n, t = r + 1;\n  }\n  return r !== t && (o += e.slice(t, r)), o;\n}\nvar l = {},\n  c = new Set([\"animation-iteration-count\", \"border-image-outset\", \"border-image-slice\", \"border-image-width\", \"box-flex\", \"box-flex-group\", \"box-ordinal-group\", \"column-count\", \"fill-opacity\", \"flex\", \"flex-grow\", \"flex-negative\", \"flex-order\", \"flex-positive\", \"flex-shrink\", \"flood-opacity\", \"font-weight\", \"grid-column\", \"grid-row\", \"line-clamp\", \"line-height\", \"opacity\", \"order\", \"orphans\", \"stop-opacity\", \"stroke-dasharray\", \"stroke-dashoffset\", \"stroke-miterlimit\", \"stroke-opacity\", \"stroke-width\", \"tab-size\", \"widows\", \"z-index\", \"zoom\"]),\n  s = /[A-Z]/g;\nfunction _(e) {\n  var t = \"\";\n  for (var r in e) {\n    var o = e[r];\n    if (null != o && \"\" !== o) {\n      var n = \"-\" == r[0] ? r : l[r] || (l[r] = r.replace(s, \"-$&\").toLowerCase()),\n        a = \";\";\n      \"number\" != typeof o || n.startsWith(\"--\") || c.has(n) || (a = \"px;\"), t = t + n + \":\" + o + a;\n    }\n  }\n  return t || void 0;\n}\nvar u,\n  p,\n  d,\n  f,\n  v = [],\n  h = Array.isArray,\n  m = Object.assign;\nfunction y(o, n) {\n  var a = e.__s;\n  e.__s = !0, u = e.__b, p = e.diffed, d = e.__r, f = e.unmount;\n  var i = t(r, null);\n  i.__k = [o];\n  try {\n    return x(o, n || k, !1, void 0, i);\n  } finally {\n    e.__c && e.__c(o, v), e.__s = a, v.length = 0;\n  }\n}\nfunction g() {\n  this.__d = !0;\n}\nvar k = {};\nfunction b(e, t) {\n  var r,\n    o = e.type,\n    n = !0;\n  return e.__c ? (n = !1, (r = e.__c).state = r.__s) : r = new o(e.props, t), e.__c = r, r.__v = e, r.props = e.props, r.context = t, r.__d = !0, null == r.state && (r.state = k), null == r.__s && (r.__s = r.state), o.getDerivedStateFromProps ? r.state = m({}, r.state, o.getDerivedStateFromProps(r.props, r.state)) : n && r.componentWillMount ? (r.componentWillMount(), r.state = r.__s !== r.state ? r.__s : r.state) : !n && r.componentWillUpdate && r.componentWillUpdate(), d && d(e), r.render(r.props, r.state, t);\n}\nfunction x(t, a, l, c, s) {\n  if (null == t || !0 === t || !1 === t || \"\" === t) return \"\";\n  if (\"object\" != typeof t) return \"function\" == typeof t ? \"\" : i(t + \"\");\n  if (h(t)) {\n    var v = \"\";\n    s.__k = t;\n    for (var y = 0; y < t.length; y++) {\n      var k = t[y];\n      null != k && \"boolean\" != typeof k && (v += x(k, a, l, c, s));\n    }\n    return v;\n  }\n  if (void 0 !== t.constructor) return \"\";\n  t.__ = s, u && u(t);\n  var S,\n    D,\n    A,\n    E = t.type,\n    F = t.props,\n    L = a;\n  if (\"function\" == typeof E) {\n    if (E === r) {\n      if (F.UNSTABLE_comment) return \"\\x3c!--\" + i(F.UNSTABLE_comment || \"\") + \"--\\x3e\";\n      D = F.children;\n    } else {\n      if (null != (S = E.contextType)) {\n        var T = a[S.__c];\n        L = T ? T.props.value : S.__;\n      }\n      if (E.prototype && \"function\" == typeof E.prototype.render) D = b(t, L), A = t.__c;else {\n        t.__c = A = {\n          __v: t,\n          props: F,\n          context: L,\n          setState: g,\n          forceUpdate: g,\n          __d: !0,\n          __h: []\n        };\n        for (var U = 0; A.__d && U++ < 25;) A.__d = !1, d && d(t), D = E.call(A, F, L);\n        A.__d = !0;\n      }\n      if (null != A.getChildContext && (a = m({}, a, A.getChildContext())), (E.getDerivedStateFromError || A.componentDidCatch) && e.errorBoundaries) {\n        var W = \"\";\n        D = null != D && D.type === r && null == D.key ? D.props.children : D;\n        try {\n          return W = x(D, a, l, c, t);\n        } catch (e) {\n          return E.getDerivedStateFromError && (A.__s = E.getDerivedStateFromError(e)), A.componentDidCatch && A.componentDidCatch(e, {}), A.__d && (D = b(t, a), null != (A = t.__c).getChildContext && (a = m({}, a, A.getChildContext())), W = x(D = null != D && D.type === r && null == D.key ? D.props.children : D, a, l, c, t)), W;\n        } finally {\n          p && p(t), t.__ = void 0, f && f(t);\n        }\n      }\n    }\n    var j = x(D = null != D && D.type === r && null == D.key ? D.props.children : D, a, l, c, t);\n    return p && p(t), t.__ = void 0, f && f(t), j;\n  }\n  var M,\n    z = \"<\" + E,\n    B = \"\";\n  for (var N in F) {\n    var H = F[N];\n    switch (N) {\n      case \"children\":\n        M = H;\n        continue;\n      case \"key\":\n      case \"ref\":\n      case \"__self\":\n      case \"__source\":\n        continue;\n      case \"htmlFor\":\n        if (\"for\" in F) continue;\n        N = \"for\";\n        break;\n      case \"className\":\n        if (\"class\" in F) continue;\n        N = \"class\";\n        break;\n      case \"defaultChecked\":\n        N = \"checked\";\n        break;\n      case \"defaultSelected\":\n        N = \"selected\";\n        break;\n      case \"defaultValue\":\n      case \"value\":\n        switch (N = \"value\", E) {\n          case \"textarea\":\n            M = H;\n            continue;\n          case \"select\":\n            c = H;\n            continue;\n          case \"option\":\n            c != H || \"selected\" in F || (z += \" selected\");\n        }\n        break;\n      case \"dangerouslySetInnerHTML\":\n        B = H && H.__html;\n        continue;\n      case \"style\":\n        \"object\" == typeof H && (H = _(H));\n        break;\n      default:\n        if (l && n.test(N)) N = N.toLowerCase().replace(w, \"xlink:\");else {\n          if (o.test(N)) continue;\n          \"-\" !== N[4] && \"draggable\" !== N || null == H || (H += \"\");\n        }\n    }\n    null != H && !1 !== H && \"function\" != typeof H && (z = !0 === H || \"\" === H ? z + \" \" + N : z + \" \" + N + '=\"' + i(H + \"\") + '\"');\n  }\n  if (o.test(E)) throw new Error(E + \" is not a valid HTML tag name in \" + z + \">\");\n  return B || (\"string\" == typeof M ? B = i(M) : null != M && !1 !== M && !0 !== M && (B = x(M, a, \"svg\" === E || \"foreignObject\" !== E && l, c, t))), p && p(t), t.__ = void 0, f && f(t), !B && C.has(E) ? z + \"/>\" : z + \">\" + B + \"</\" + E + \">\";\n}\nvar w = /^xlink:?/,\n  C = new Set([\"area\", \"base\", \"br\", \"col\", \"command\", \"embed\", \"hr\", \"img\", \"input\", \"keygen\", \"link\", \"meta\", \"param\", \"source\", \"track\", \"wbr\"]),\n  S = y,\n  D = y;\nexport default y;\nexport { S as render, D as renderToStaticMarkup, y as renderToString };","let intersectionObserver: IntersectionObserver\n\nexport type Unobserver = () => void\n\nconst ioEntryMap = new WeakMap<HTMLElement, () => void>()\n/* eslint-disable @typescript-eslint/no-explicit-any  */\nconst connection =\n  (navigator as any).connection ||\n  (navigator as any).mozConnection ||\n  (navigator as any).webkitConnection\n/* eslint-enable @typescript-eslint/no-explicit-any */\n\n// These match the thresholds used in Chrome's native lazy loading\n// @see https://web.dev/browser-level-image-lazy-loading/#distance-from-viewport-thresholds\nconst FAST_CONNECTION_THRESHOLD = `1250px`\nconst SLOW_CONNECTION_THRESHOLD = `2500px`\n\nexport function createIntersectionObserver(\n  callback: () => void\n): (element: HTMLElement) => Unobserver {\n  const connectionType = connection?.effectiveType\n\n  // if we don't support intersectionObserver we don't lazy load (Sorry IE 11).\n  if (!(`IntersectionObserver` in window)) {\n    return function observe(): Unobserver {\n      callback()\n      return function unobserve(): void {}\n    }\n  }\n\n  if (!intersectionObserver) {\n    intersectionObserver = new IntersectionObserver(\n      entries => {\n        entries.forEach(entry => {\n          if (entry.isIntersecting) {\n            // Get the matching entry's callback and call it\n            ioEntryMap.get(entry.target as HTMLElement)?.()\n            // We only need to call it once\n            ioEntryMap.delete(entry.target as HTMLElement)\n          }\n        })\n      },\n      {\n        rootMargin:\n          connectionType === `4g` && !connection?.saveData\n            ? FAST_CONNECTION_THRESHOLD\n            : SLOW_CONNECTION_THRESHOLD,\n      }\n    )\n  }\n\n  return function observe(element: HTMLElement): Unobserver {\n    // Store a reference to the callback mapped to the element being watched\n    ioEntryMap.set(element, callback)\n    intersectionObserver.observe(element)\n\n    return function unobserve(): void {\n      if (intersectionObserver && element) {\n        ioEntryMap.delete(element)\n        intersectionObserver.unobserve(element)\n      }\n    }\n  }\n}\n","import React from \"react\"\nimport { renderToStaticMarkup } from \"react-dom/server\"\nimport { LayoutWrapper } from \"./layout-wrapper\"\nimport { Placeholder } from \"./placeholder\"\nimport { MainImage } from \"./main-image\"\nimport {\n  hasNativeLazyLoadSupport,\n  getMainProps,\n  getPlaceholderProps,\n} from \"./hooks\"\nimport { createIntersectionObserver } from \"./intersection-observer\"\nimport type { MainImageProps } from \"./main-image\"\nimport type { GatsbyImageProps } from \"./gatsby-image.browser\"\n\ntype LazyHydrateProps = Omit<GatsbyImageProps, \"as\" | \"style\" | \"className\"> & {\n  isLoading: boolean\n  isLoaded: boolean\n}\n\nasync function applyPolyfill(element: HTMLImageElement): Promise<void> {\n  if (!(`objectFitPolyfill` in window)) {\n    await import(\n      // @ts-ignore typescript can't find the module for some reason ¯\\_(ツ)_/¯\n      /* webpackChunkName: \"gatsby-plugin-image-objectfit-polyfill\" */ `objectFitPolyfill`\n    )\n  }\n  ;(window as any).objectFitPolyfill(element)\n}\n\nfunction toggleLoaded(\n  mainImage: HTMLElement,\n  placeholderImage: HTMLElement\n): void {\n  mainImage.style.opacity = `1`\n\n  if (placeholderImage) {\n    placeholderImage.style.opacity = `0`\n  }\n}\n\nfunction startLoading(\n  element: HTMLElement,\n  cacheKey: string,\n  imageCache: Set<string>,\n  onStartLoad: GatsbyImageProps[\"onStartLoad\"],\n  onLoad: GatsbyImageProps[\"onLoad\"],\n  onError: GatsbyImageProps[\"onError\"]\n): () => void {\n  const mainImage = element.querySelector(\n    `[data-main-image]`\n  ) as HTMLImageElement\n  const placeholderImage = element.querySelector<HTMLElement>(\n    `[data-placeholder-image]`\n  )\n  const isCached = imageCache.has(cacheKey)\n\n  function onImageLoaded(e): void {\n    // eslint-disable-next-line @babel/no-invalid-this\n    this.removeEventListener(`load`, onImageLoaded)\n\n    const target = e.currentTarget\n    const img = new Image()\n    img.src = target.currentSrc\n\n    if (img.decode) {\n      // Decode the image through javascript to support our transition\n      img\n        .decode()\n        .then(() => {\n          // eslint-disable-next-line @babel/no-invalid-this\n          toggleLoaded(this, placeholderImage)\n          onLoad?.({\n            wasCached: isCached,\n          })\n        })\n        .catch(e => {\n          // eslint-disable-next-line @babel/no-invalid-this\n          toggleLoaded(this, placeholderImage)\n          onError?.(e)\n        })\n    } else {\n      // eslint-disable-next-line @babel/no-invalid-this\n      toggleLoaded(this, placeholderImage)\n      onLoad?.({\n        wasCached: isCached,\n      })\n    }\n  }\n\n  mainImage.addEventListener(`load`, onImageLoaded)\n\n  onStartLoad?.({\n    wasCached: isCached,\n  })\n  Array.from(mainImage.parentElement.children).forEach(child => {\n    const src = child.getAttribute(`data-src`)\n    const srcSet = child.getAttribute(`data-srcset`)\n    if (src) {\n      child.removeAttribute(`data-src`)\n      child.setAttribute(`src`, src)\n    }\n    if (srcSet) {\n      child.removeAttribute(`data-srcset`)\n      child.setAttribute(`srcset`, srcSet)\n    }\n  })\n\n  imageCache.add(cacheKey)\n\n  // Load times not always fires - mostly when it's a 304\n  // We check if the image is already completed and if so we trigger onload.\n  if (mainImage.complete) {\n    onImageLoaded.call(mainImage, {\n      currentTarget: mainImage,\n    })\n  }\n\n  return (): void => {\n    if (mainImage) {\n      mainImage.removeEventListener(`load`, onImageLoaded)\n    }\n  }\n}\n\nexport function swapPlaceholderImage(\n  element: HTMLElement,\n  cacheKey: string,\n  imageCache: Set<string>,\n  style: React.CSSProperties,\n  onStartLoad: GatsbyImageProps[\"onStartLoad\"],\n  onLoad: GatsbyImageProps[\"onLoad\"],\n  onError: GatsbyImageProps[\"onError\"]\n): () => void {\n  if (!hasNativeLazyLoadSupport()) {\n    let cleanup\n    const io = createIntersectionObserver(() => {\n      cleanup = startLoading(\n        element,\n        cacheKey,\n        imageCache,\n        onStartLoad,\n        onLoad,\n        onError\n      )\n    })\n    const unobserve = io(element)\n\n    // Polyfill \"object-fit\" if unsupported (mostly IE)\n    if (!(`objectFit` in document.documentElement.style)) {\n      element.dataset.objectFit = style.objectFit ?? `cover`\n      element.dataset.objectPosition = `${style.objectPosition ?? `50% 50%`}`\n      applyPolyfill(element as HTMLImageElement)\n    }\n\n    return (): void => {\n      if (cleanup) {\n        cleanup()\n      }\n\n      unobserve()\n    }\n  }\n\n  return startLoading(\n    element,\n    cacheKey,\n    imageCache,\n    onStartLoad,\n    onLoad,\n    onError\n  )\n}\n\nexport function renderImageToString({\n  image,\n  loading = `lazy`,\n  isLoading,\n  isLoaded,\n  imgClassName,\n  imgStyle = {},\n  objectPosition,\n  backgroundColor,\n  objectFit = `cover`,\n  ...props\n}: LazyHydrateProps): string {\n  const {\n    width,\n    height,\n    layout,\n    images,\n    placeholder,\n    backgroundColor: wrapperBackgroundColor,\n  } = image\n\n  imgStyle = {\n    objectFit,\n    objectPosition,\n    backgroundColor,\n    ...imgStyle,\n  }\n\n  return renderToStaticMarkup(\n    <LayoutWrapper layout={layout} width={width} height={height}>\n      <Placeholder\n        {...getPlaceholderProps(\n          placeholder,\n          isLoaded,\n          layout,\n          width,\n          height,\n          wrapperBackgroundColor,\n          objectFit,\n          objectPosition\n        )}\n      />\n\n      <MainImage\n        {...(props as Omit<\n          MainImageProps,\n          \"images\" | \"fallback\" | \"onLoad\" | \"onError\"\n        >)}\n        width={width}\n        height={height}\n        className={imgClassName}\n        {...getMainProps(isLoading, isLoaded, images, loading, imgStyle)}\n      />\n    </LayoutWrapper>\n  )\n}\n"],"names":["o","n","a","i","e","length","test","t","r","charCodeAt","slice","l","c","Set","s","_","replace","toLowerCase","startsWith","has","u","p","d","f","v","h","Array","isArray","m","Object","assign","y","__s","__b","diffed","__r","unmount","__k","x","k","__c","g","this","__d","b","type","state","props","__v","context","getDerivedStateFromProps","componentWillMount","componentWillUpdate","render","constructor","__","S","D","A","E","F","L","UNSTABLE_comment","children","contextType","T","value","prototype","setState","forceUpdate","__h","U","call","getChildContext","getDerivedStateFromError","componentDidCatch","errorBoundaries","W","key","j","M","z","B","N","H","__html","w","Error","C","WeakMap","navigator","connection","mozConnection","webkitConnection","style","opacity","querySelector","_this","removeEventListener","currentTarget","Image","src","currentSrc","decode","then","wasCached","catch","addEventListener","from","parentElement","forEach","getAttribute","removeAttribute","setAttribute","add","complete","window","IntersectionObserver","isIntersecting","get","target","delete","rootMargin","effectiveType","saveData","set","observe","unobserve","document","documentElement","dataset","objectFit","objectPosition","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","_context","prev","next","t0","objectFitPolyfill","stop","_x","apply","arguments","image","_e$loading","loading","isLoading","isLoaded","imgClassName","_e$imgStyle","imgStyle","backgroundColor","_e$objectFit","width","height","layout","images","P","placeholder","className"],"sourceRoot":""}